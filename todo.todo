- ajustar cadastro de interno usp
- revisar triggers e functions em sql, reduzir ao maximo responsibilidade do flask
- adicionar mais ferramentas da linguagem SQL
- organizar todo o codigo, organizar chamada de sql e rotas

## Funcionalidades por Tipo de Usuário

### Externo USP
- ✅ aceitar convite (Externo USP)
  - Implementado: Interface em `/external/dashboard` com endpoints `/accept` e `/reject`. Usuário externo pode aceitar ou recusar convites pendentes.

### Interno USP
- ✅ ver e se inscrever em atividades (Interno USP)
  - Implementado: Interface em `/internal/dashboard` com componente `ActivitiesList` que lista atividades disponíveis com filtros (dia da semana, grupo de extensão, modalidade). Endpoint `GET /internal/activities` e `POST /internal/activities/enroll`. Usa função SQL `listar_atividades` e procedure `inscrever_participante_atividade`.
- ✅ listar instalações disponíveis em um determinado período de tempo (Interno USP)
  - Implementado: Interface em `/internal/dashboard` com filtros de data, horário início e fim. Query `instalacoes_disponiveis.sql`.
- ✅ ver as próprias reservas (Interno USP)
  - Implementado: Interface em `/internal/dashboard` com filtro por CPF. Query `reservas_por_interno.sql`.
- ✅ reserva item da infraestrutura (Interno USP)
  - Implementado: Interface em `/internal/dashboard` com componente `ReservationForm` para criar reservas de instalações e equipamentos. Endpoints `POST /internal/reservations/installation` e `POST /internal/reservations/equipment`. Usa procedures SQL `reservar_instalacao` e `reservar_equipamento`. Listagem de equipamentos disponíveis em `GET /internal/equipment`.
- ✅ listar convites passados e seus status (Interno USP)
  - Implementado: Interface em `/internal/dashboard` com componente `InvitesList` que lista convites criados pelo interno. Endpoint `GET /internal/invites`. Query `convites_por_interno.sql`. Mostra status, dados do convidado, atividade relacionada e permite copiar token.
- ✅ convidar usuário externo para atividade (Interno USP)
  - Implementado: Interface em `/internal/dashboard` com componente `InviteForm` para criar convites externos. Endpoint `POST /internal/invites`. Query `criar_convite_externo.sql`. Gera token único automaticamente e permite associar a uma atividade específica.

### Funcionário Cefer
- ✅ gerenciar a participação de Usuários internos em atividades (Funcionário Cefer)
  - Implementado: Interface em `/staff/dashboard` com componente `ActivityParticipantsManager` que permite listar, adicionar e remover participantes de atividades. Endpoints `GET /staff/activities/:id/participants`, `POST /staff/activities/:id/participants` e `DELETE /staff/activities/:id/participants/:cpf`. Usa queries SQL `listar_participantes_atividade.sql` e procedures `inscrever_participante_atividade` e `remover_participante_atividade`.
- ✅ gerenciar a utilização dos equipamentos (Funcionário Cefer)
  - Implementado: Interface em `/staff/dashboard` com componente `EquipmentReservationsManager` que lista todas as reservas de equipamentos com filtros (data, equipamento, responsável) e permite cancelar reservas. Endpoints `GET /staff/equipment/reservations` e `DELETE /staff/equipment/reservations/:id`. Usa queries SQL `listar_reservas_equipamentos.sql` e procedure `cancelar_reserva_equipamento`.
- ✅ gerenciar a utilização das instalações (Funcionário Cefer)
  - Implementado: Interface em `/staff/dashboard` com componente `InstallationReservationsManager` que lista todas as reservas de instalações com filtros (data, instalação, responsável) e permite cancelar reservas. Endpoints `GET /staff/installations/reservations` e `DELETE /staff/installations/reservations/:id`. Usa queries SQL `listar_reservas_instalacoes.sql` e procedure `cancelar_reserva_instalacao`.
- ✅ gerenciar as atividades oferecidas (Funcionário Cefer)
  - Implementado: Interface em `/staff/dashboard` com componente `ActivitiesManager` que permite criar, editar e deletar atividades. Endpoints `POST /staff/activities`, `PUT /staff/activities/:id`, `DELETE /staff/activities/:id` e `GET /staff/activities/:id`. Usa queries SQL `criar_atividade.sql`, `atualizar_atividade.sql`, `deletar_atividade.sql` e `buscar_atividade.sql` com procedures SQL correspondentes.

### Administrador
- ✅ gerenciar as atividades oferecidas (Administrador)
  - Implementado: Interface em `/admin/management` com componente `ActivitiesManager` que permite criar, editar e deletar atividades. Endpoints `GET /admin/activities`, `POST /admin/activities`, `PUT /admin/activities/:id`, `DELETE /admin/activities/:id` e `GET /admin/activities/:id`. Reutiliza queries SQL de staff (`criar_atividade.sql`, `atualizar_atividade.sql`, `deletar_atividade.sql`, `buscar_atividade.sql`) com procedures SQL correspondentes.
- ✅ CRUD de infraestrutura por parte do administrador (Administrador)
  - Implementado: Interface em `/admin/management` com componentes `InstallationsManager` e `EquipmentManager` que permitem CRUD completo de instalações e equipamentos. Endpoints para instalações: `GET /admin/installations`, `POST /admin/installations`, `PUT /admin/installations/:id`, `DELETE /admin/installations/:id` e `GET /admin/installations/:id`. Endpoints para equipamentos: `GET /admin/equipment`, `POST /admin/equipment`, `PUT /admin/equipment/:id`, `DELETE /admin/equipment/:id` e `GET /admin/equipment/:id`. Usa procedures SQL `criar_instalacao`, `atualizar_instalacao`, `deletar_instalacao`, `criar_equipamento`, `atualizar_equipamento`, `deletar_equipamento` e queries SQL em `queries/admin/`.
- ✅ CRUD de grupos de extensão e eventos por parte do administrador (Administrador)
  - Grupos de extensão: ✅ Implementado em `/admin/extension-groups` com CRUD completo (create, update, delete).
  - Eventos: ✅ Implementado: Interface em `/admin/management` com componente `EventsManager` que permite criar, editar e deletar eventos. Endpoints `GET /admin/events`, `POST /admin/events`, `PUT /admin/events/:id`, `DELETE /admin/events/:id` e `GET /admin/events/:id`. Usa procedures SQL `criar_evento`, `atualizar_evento`, `deletar_evento` e queries SQL em `queries/admin/`. Endpoint adicional `GET /admin/reservations` para listar reservas disponíveis para associar a eventos.
- ✅ CRUD de usuários por parte do administrador (Administrador)
  - Implementado: Interface em `/admin/management` com componente `UsersManager` que permite criar, editar, deletar e listar usuários. Endpoints `GET /admin/users`, `POST /admin/users`, `PUT /admin/users/:cpf`, `DELETE /admin/users/:cpf` e `GET /admin/users/:cpf`. Suporta criação de diferentes tipos de usuários (interno, externo, funcionário, educador físico) usando procedures SQL `criar_pessoa`, `criar_interno`, `criar_funcionario`, `criar_educador_fisico`, `atualizar_pessoa`, `atualizar_interno`, `atualizar_funcionario`, `atualizar_educador` e `deletar_pessoa`. Queries SQL em `queries/admin/listar_usuarios.sql` e `queries/admin/buscar_usuario.sql`.

### Relatórios
- ✅ identificar espaços mais utilizados, frequência e duração de uso (Administrador, Funcionário Cefer, Relatório)
  - Implementado: Relatórios em `/reports/overview` com `installation_ranking.sql` e `installations_most_reserved.sql`.
- ✅ total de participantes por atividade e total geral (Administrador, Funcionário Cefer, Relatório)
  - Implementado: Relatório em `/reports/overview` com `participants_totals.sql`.
- ✅ mostrar total de atividades conduzidas por educador e categoria (Administrador, Funcionário Cefer, Relatório)
  - Implementado: Relatório em `/reports/overview` com `activities_cube.sql` e `activity_occurrences.sql`.
- ✅ contar reservas por instalação, mês e total geral (Administrador, Funcionário Cefer, Relatório)
  - Implementado: Relatório em `/reports/overview` com `reservations_rollup.sql`.

### Geral
- ✅ implementação do login (Geral)
  - Implementado: Sistema de autenticação completo com login para diferentes tipos de usuários em `/auth/login`.
- ✅ dockerizar o projeto (Geral)
  - Implementado: `docker-compose.yml` configurado com PostgreSQL e serviços.
- ❌ relatório final (documentation, Geral)
  - Faltante: Documentação final do projeto ainda não concluída.


- ver erro no http://localhost:3000/staff/participants que nao esta dando para cancelar participantes
- melhorar tela de http://localhost:3000/internal/reservations minhas reservas, ja puxar direto pelo cpf logado
- criar atividades com vaga para testar entrar nelas http://localhost:3000/internal/activities
- para o interno coloque direto os itens de navegacao no navbar
- ver se a tela de convidado ta funcionando
- mostra participantes de atividade que sao externos
